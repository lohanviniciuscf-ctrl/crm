<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CRM</title>

<style>
:root{
  --bg:#0a192f;
  --card:#112240;
  --accent:#64ffda;
}
body{
  margin:0;
  font-family:Segoe UI,Arial;
  background:var(--bg);
  color:#e6f1ff;
}
header{
  background:#020c1b;
  padding:14px;
  display:grid;
  grid-template-columns:1fr auto;
  align-items:center;
}
header h2{
  text-align:center;
  margin:0;
  color:var(--accent);
}
button{
  background:var(--accent);
  border:none;
  padding:8px 12px;
  border-radius:6px;
  font-weight:bold;
  cursor:pointer;
}
.container{padding:15px}
.dashboard{display:flex;gap:10px;margin-bottom:15px}
.box{
  background:var(--card);
  padding:12px;
  border-radius:8px;
  flex:1;
  text-align:center;
}
.board{display:flex;gap:10px;overflow-x:auto}
.column{
  background:var(--card);
  padding:10px;
  border-radius:8px;
  min-width:260px;
}
.card{
  background:var(--bg);
  padding:10px;
  border-radius:6px;
  margin-bottom:8px;
  cursor:grab;
}
.value{color:var(--accent);font-weight:bold}
small{color:#8892b0}
.form{display:flex;gap:8px;margin-bottom:15px}
input{padding:8px;border-radius:5px;border:none}

/* TELAS */
.center{
  height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
}
.box-select{
  display:flex;
  gap:20px;
}
.env-card{
  width:220px;
  padding:25px;
  border-radius:14px;
  text-align:center;
  cursor:pointer;
  font-weight:bold;
  font-size:18px;
}
.modelle{background:#e6c9a8;color:#3b2f2f}
.cia{background:#0a192f;color:#64ffda;border:2px solid #64ffda}
.login-box{
  background:var(--card);
  padding:25px;
  border-radius:10px;
  width:280px;
}
.login-box h3{text-align:center;color:var(--accent)}
.login-box input{width:100%;margin-bottom:10px}
.error{color:#ff6b6b;font-size:12px;text-align:center}
</style>
</head>

<body>

<!-- PRÉ LOGIN -->
<div id="envSelect" class="center">
  <div class="box-select">
    <div class="env-card modelle" onclick="selectEnv('Modelle Skin')">
      Modelle Skin
    </div>
    <div class="env-card cia" onclick="selectEnv('Cia & Arte')">
      Cia & Arte
    </div>
  </div>
</div>

<!-- LOGIN -->
<div id="loginScreen" class="center" style="display:none">
  <div class="login-box">
    <h3 id="envTitle"></h3>
    <input id="user" placeholder="Usuário">
    <input id="pass" type="password" placeholder="Senha">
    <button onclick="login()">Entrar</button>
    <p id="loginError" class="error"></p>
  </div>
</div>

<!-- APP -->
<div id="app" style="display:none">
<header>
  <h2 id="appTitle"></h2>
  <button onclick="logout()">Sair</button>
</header>

<div class="container">

<div class="dashboard">
  <div class="box">Leads<br><span id="totalLeads">0</span></div>
  <div class="box">Faturamento<br><span id="faturamento">R$ 0</span></div>
  <div class="box">Lucro<br><span id="lucro">R$ 0</span></div>
</div>

<div class="form">
  <input id="nome" placeholder="Cliente">
  <input id="valor" type="number" placeholder="Valor">
  <input id="custo" type="number" placeholder="Custo">
  <button onclick="addLead()">Adicionar</button>
</div>

<div class="board" id="board"></div>
</div>
</div>

<script>
/* USUÁRIOS */
const users = {
  Lohan:{pass:"D9f0da85",env:["Modelle Skin","Cia & Arte"]},
  marcus:{pass:"Elistray6001",env:["Cia & Arte"]},
  Queila:{pass:"alieuq79",env:["Modelle Skin"]}
};

let currentEnv = localStorage.getItem("env");
let currentUser = localStorage.getItem("user");

function selectEnv(env){
  currentEnv = env;
  localStorage.setItem("env",env);

  if(env==="Modelle Skin"){
    document.documentElement.style.setProperty("--bg","#f3e0c8");
    document.documentElement.style.setProperty("--card","#e6c9a8");
    document.documentElement.style.setProperty("--accent","#8b5e3c");
  }

  envSelect.style.display="none";
  loginScreen.style.display="flex";
  envTitle.innerText=env;
}

function login(){
  const u=user.value,p=pass.value;
  if(users[u] && users[u].pass===p && users[u].env.includes(currentEnv)){
    localStorage.setItem("user",u);
    location.reload();
  }else{
    loginError.innerText="Acesso não permitido para este ambiente";
  }
}

function logout(){
  localStorage.clear();
  location.reload();
}

/* APP */
if(currentEnv && currentUser){
  envSelect.style.display="none";
  loginScreen.style.display="none";
  app.style.display="block";
  appTitle.innerText=currentEnv+" — "+currentUser;
}else if(currentEnv){
  envSelect.style.display="none";
  loginScreen.style.displa
